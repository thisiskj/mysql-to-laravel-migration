import{W as e,a as t,b as n,c as i,d as a,N as l,e as r,R as s,f as o,g as c,h as d,w as m,v as u,t as p,o as h,i as b}from"./vendor.a904e56b.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();self.MonacoEnvironment={getWorker:(l,r)=>"json"===r?new e:"css"===r||"scss"===r||"less"===r?new t:"html"===r||"handlebars"===r||"razor"===r?new n:"typescript"===r||"javascript"===r?new i:new a};let g={};const f={data:()=>({sql:"CREATE TABLE users\n(\n    id         int     not null auto_increment primary key,\n    name       varchar(30) null,\n    is_admin   tinyint not null default 0,\n    bio        text null comment='biography',\n    record_key bigint null,\n    ratio      decimal(9, 4) null,\n    created_at datetime null,\n    updated_at datetime null\n)\n",ast:null,error:null,editorDecorations:[],recentlyCopied:!1}),methods:{parse(){try{this.error=null,this.ast=null;const e=(new l.Parser).astify(this.sql);Array.isArray(e)?this.ast=e[0]:this.ast=e,g&&g.deltaDecorations&&g.deltaDecorations(this.editorDecorations,[]),console.log(e)}catch(e){console.error(e),g.deltaDecorations&&e&&e.location&&(this.editorDecorations=g.deltaDecorations(this.editorDecorations,[{range:new s(e.location.start.line,e.location.start.column,e.location.start.line,9999),options:{inlineClassName:"editorInlineError"}}])),this.error=e}},camelCase:e=>e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace("-","").replace("_",""))),capitalize:e=>"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1),methodForDef(e){if(!e||!e.column)return null;let t,n,i=e.column.column;switch(e.definition.dataType){case"BIGINT":t=`bigInteger('${i}')`;break;case"CHAR":n=void 0!==e.definition.length?e.definition.length:64,t=`char('${i}', ${n})`;break;case"DATE":t=`date('${i}')`;break;case"DATETIME":t=`dateTime('${i}')`;break;case"DECIMAL":n=e.definition.length;let a=e.definition.scale;t=n&&a?`decimal('${i}', ${n}, ${a})`:n?`decimal('${i}', ${n})`:`decimal('${i}')`;break;case"ENUM":t=`enum('${i}', [${e.definition.expr.value.map((e=>`'${e.value}'`)).join(",")}])`;break;case"JSON":t=`json('${i}')`;break;case"INT":t=`integer('${i}')`;break;case"SMALLINT":t=`smallInteger('${i}')`;break;case"TEXT":t=`text('${i}')`;break;case"TIMESTAMP":t=`timestamp('${i}')`;break;case"TINYINT":t=`tinyInteger('${i}')`;break;case"VARCHAR":n=void 0!==e.definition.length?e.definition.length:64,t=`string('${i}', ${n})`;break;default:t=`UNKNOWN_DATA_TYPE('${i}')`}return t},modifiersForDef(e){let t=[];return e.nullable&&"null"===e.nullable.type&&t.push("->nullable()"),"auto_increment"===e.auto_increment&&t.push("->autoIncrement()"),e.comment&&t.push(`->comment('${e.comment.value.value}')`),e.default_val&&t.push(`->default(${e.default_val.value.value})`),t.join("")},indexesFromAst(){let e=[];return this.ast.create_definitions.forEach((t=>{if(t.column&&t.column.column){let n=t.column.column;"primary key"===t.unique_or_primary&&e.push(`            $table->primary('${n}');`)}if("primary key"===t.constraint_type){let n=t.definition.map((e=>`'${e}'`)).join(",");e.push(`            $table->primary([${n}]);`)}if("unique key"===t.constraint_type){let n=t.definition.map((e=>`'${e}'`)).join(",");e.push(`            $table->unique([${n}]);`)}if("key"===t.keyword){let n=t.definition.map((e=>`'${e}'`)).join(",");e.push(`            $table->index([${n}]);`)}})),e},copyToClipboard(){navigator.clipboard.writeText(this.migration),this.recentlyCopied=!0,setTimeout((()=>this.recentlyCopied=!1),5e3)}},computed:{migration(){if(!this.ast||this.error)return"";let e=this.ast.table[0].table;return`<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Support\\Facades\\Schema;\n\nclass Create${this.capitalize(this.camelCase(e))}Table extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::create('${e}', function (Blueprint $table) {\n${this.ast.create_definitions.map((e=>{let t=this.methodForDef(e);return t?`            $table->${t}${this.modifiersForDef(e)};`:null})).filter((e=>null!==e)).join("\n")}\n\n            // Indexes\n${this.indexesFromAst().join("\n")}\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::dropIfExists('${e}');\n    }\n}\n`}},watch:{sql(){this.parse()}},mounted(){this.parse(),g=r.create(document.getElementById("editor"),{fontSize:"14px",value:this.sql,language:"sql",minimap:{enabled:!1}}),g.getModel().onDidChangeContent((e=>{console.log(g.getValue()),this.sql=g.getValue()}))}},A={class:"flex flex-col items-stretch min-h-screen"},y=c("div",{class:"flex justify-between shadow border-b-2 border-gray-200 py-4 px-8"},[c("div",null,[c("div",{class:"text-xl mb-1"}," MySQL to Laravel Migration "),c("div",{class:"text-sm text-gray-500"},' Generate migration files from an existing schema. To begin, enter the "CREATE TABLE..." statement. ')]),c("div",{class:"flex items-center"},[c("a",{href:"https://www.buymeacoffee.com/thisiskj",class:"mr-5",target:"_blank"},[c("img",{src:"https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png",alt:"Buy Me A Coffee",style:{height:"40px !important"}})]),c("a",{href:"https://github.com/thisiskj/mysql-to-laravel-migration"},[c("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==",alt:"Github"})])])],-1),w={class:"flex-1 flex justify-between"},v=c("div",{class:"flex-1 flex flex-col"},[c("div",{class:"bg-blue-500 text-white text-sm shadow px-2 py-4"}," Step 1: Enter a CREATE TABLE schema below... "),c("div",{id:"editor",class:"flex-1 pt-2 w-full h-full"})],-1),E=c("div",{class:"border-l-2 border-blue-500"},null,-1),T={class:"flex-1 flex flex-col bg-gray-200"},I={class:"flex justify-between items-centered bg-blue-800 text-white text-sm shadow px-2 py-4"},M=c("div",null," Step 2: View the generated Laravel migration file below ",-1),x={key:0,class:"mr-5"},k=c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})],-1),D={key:0,class:"fixed top-0 left-0 right-0 inset-2"},B={class:"border-2 border-red-700 bg-red-500 text-white p-2"};f.render=function(e,t,n,i,a,l){return h(),o("div",A,[y,c("div",w,[v,E,c("div",T,[c("div",I,[M,c("div",{onClick:t[0]||(t[0]=(...e)=>l.copyToClipboard&&l.copyToClipboard(...e)),class:"flex items-center hover:text-gray-200 cursor-pointer"},[a.recentlyCopied?(h(),o("span",x,"Copied to Clipboard!")):d("",!0),k])]),m(c("textarea",{disabled:"","onUpdate:modelValue":t[1]||(t[1]=e=>l.migration=e),class:"p-4 text-sm font-mono w-full h-full"},null,512),[[u,l.migration]])])]),a.error?(h(),o("div",D,[c("div",B," Line "+p(a.error.location.start.line)+":"+p(a.error.location.start.column)+" - "+p(a.error.message),1)])):d("",!0)])};b(f).mount("#app");
